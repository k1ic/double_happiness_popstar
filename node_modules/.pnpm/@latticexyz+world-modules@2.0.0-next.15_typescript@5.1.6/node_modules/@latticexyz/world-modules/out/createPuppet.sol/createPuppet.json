{"abi":[],"bytecode":{"object":"0x","linkReferences":{}},"deployedBytecode":{"object":"0x","linkReferences":{}},"ast":{"absolutePath":"src/modules/puppet/createPuppet.sol","id":119498,"exportedSymbols":{"IBaseWorld":[24957],"PUPPET_DELEGATION":[119394],"PUPPET_FACTORY":[119412],"Puppet":[119062],"PuppetDelegationControl":[119102],"PuppetFactorySystem":[119161],"ResourceId":[3365],"WorldResourceIdInstance":[24829],"createPuppet":[119497]},"nodeType":"SourceUnit","src":"32:1090:173","nodes":[{"id":119432,"nodeType":"PragmaDirective","src":"32:25:173","nodes":[],"literals":["solidity",">=","0.8",".21"]},{"id":119434,"nodeType":"ImportDirective","src":"59:66:173","nodes":[],"absolutePath":"node_modules/@latticexyz/store/src/ResourceId.sol","file":"@latticexyz/store/src/ResourceId.sol","nameLocation":"-1:-1:-1","scope":119498,"sourceUnit":3437,"symbolAliases":[{"foreign":{"id":119433,"name":"ResourceId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3365,"src":"68:10:173","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":119436,"nodeType":"ImportDirective","src":"126:85:173","nodes":[],"absolutePath":"node_modules/@latticexyz/world/src/codegen/interfaces/IBaseWorld.sol","file":"@latticexyz/world/src/codegen/interfaces/IBaseWorld.sol","nameLocation":"-1:-1:-1","scope":119498,"sourceUnit":24958,"symbolAliases":[{"foreign":{"id":119435,"name":"IBaseWorld","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":24957,"src":"135:10:173","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":119438,"nodeType":"ImportDirective","src":"212:84:173","nodes":[],"absolutePath":"node_modules/@latticexyz/world/src/WorldResourceId.sol","file":"@latticexyz/world/src/WorldResourceId.sol","nameLocation":"-1:-1:-1","scope":119498,"sourceUnit":24830,"symbolAliases":[{"foreign":{"id":119437,"name":"WorldResourceIdInstance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":24829,"src":"221:23:173","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":119441,"nodeType":"ImportDirective","src":"297:68:173","nodes":[],"absolutePath":"src/modules/puppet/constants.sol","file":"./constants.sol","nameLocation":"-1:-1:-1","scope":119498,"sourceUnit":119431,"symbolAliases":[{"foreign":{"id":119439,"name":"PUPPET_DELEGATION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119394,"src":"306:17:173","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":119440,"name":"PUPPET_FACTORY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119412,"src":"325:14:173","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":119443,"nodeType":"ImportDirective","src":"366:72:173","nodes":[],"absolutePath":"src/modules/puppet/PuppetDelegationControl.sol","file":"./PuppetDelegationControl.sol","nameLocation":"-1:-1:-1","scope":119498,"sourceUnit":119103,"symbolAliases":[{"foreign":{"id":119442,"name":"PuppetDelegationControl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119102,"src":"375:23:173","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":119445,"nodeType":"ImportDirective","src":"439:38:173","nodes":[],"absolutePath":"src/modules/puppet/Puppet.sol","file":"./Puppet.sol","nameLocation":"-1:-1:-1","scope":119498,"sourceUnit":119063,"symbolAliases":[{"foreign":{"id":119444,"name":"Puppet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119062,"src":"448:6:173","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":119447,"nodeType":"ImportDirective","src":"478:64:173","nodes":[],"absolutePath":"src/modules/puppet/PuppetFactorySystem.sol","file":"./PuppetFactorySystem.sol","nameLocation":"-1:-1:-1","scope":119498,"sourceUnit":119162,"symbolAliases":[{"foreign":{"id":119446,"name":"PuppetFactorySystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119161,"src":"487:19:173","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":119451,"nodeType":"UsingForDirective","src":"544:45:173","nodes":[],"global":false,"libraryName":{"id":119448,"name":"WorldResourceIdInstance","nameLocations":["550:23:173"],"nodeType":"IdentifierPath","referencedDeclaration":24829,"src":"550:23:173"},"typeName":{"id":119450,"nodeType":"UserDefinedTypeName","pathNode":{"id":119449,"name":"ResourceId","nameLocations":["578:10:173"],"nodeType":"IdentifierPath","referencedDeclaration":3365,"src":"578:10:173"},"referencedDeclaration":3365,"src":"578:10:173","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"}}},{"id":119497,"nodeType":"FunctionDefinition","src":"799:322:173","nodes":[],"body":{"id":119496,"nodeType":"Block","src":"885:236:173","nodes":[],"statements":[{"expression":{"id":119481,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":119463,"name":"puppet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119461,"src":"889:6:173","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":119468,"name":"PUPPET_FACTORY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119412,"src":"925:14:173","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"}},{"arguments":[{"expression":{"id":119471,"name":"PuppetFactorySystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119161,"src":"956:19:173","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_PuppetFactorySystem_$119161_$","typeString":"type(contract PuppetFactorySystem)"}},"id":119472,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"976:12:173","memberName":"createPuppet","nodeType":"MemberAccess","referencedDeclaration":119160,"src":"956:32:173","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_userDefinedValueType$_ResourceId_$3365_$returns$_t_address_$","typeString":"function PuppetFactorySystem.createPuppet(ResourceId) returns (address)"}},{"components":[{"id":119473,"name":"systemId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119458,"src":"991:8:173","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"}}],"id":119474,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"990:10:173","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_userDefinedValueType$_ResourceId_$3365_$returns$_t_address_$","typeString":"function PuppetFactorySystem.createPuppet(ResourceId) returns (address)"},{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"}],"expression":{"id":119469,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"941:3:173","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":119470,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"945:10:173","memberName":"encodeCall","nodeType":"MemberAccess","src":"941:14:173","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":119475,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"941:60:173","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":119466,"name":"world","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119455,"src":"914:5:173","typeDescriptions":{"typeIdentifier":"t_contract$_IBaseWorld_$24957","typeString":"contract IBaseWorld"}},"id":119467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"920:4:173","memberName":"call","nodeType":"MemberAccess","referencedDeclaration":23018,"src":"914:10:173","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_userDefinedValueType$_ResourceId_$3365_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (ResourceId,bytes memory) payable external returns (bytes memory)"}},"id":119476,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"914:88:173","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":119478,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1009:7:173","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":119477,"name":"address","nodeType":"ElementaryTypeName","src":"1009:7:173","typeDescriptions":{}}}],"id":119479,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"1008:9:173","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"}],"expression":{"id":119464,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"898:3:173","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":119465,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"902:6:173","memberName":"decode","nodeType":"MemberAccess","src":"898:10:173","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":119480,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"898:123:173","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"889:132:173","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":119482,"nodeType":"ExpressionStatement","src":"889:132:173"},{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":119486,"name":"systemId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119458,"src":"1059:8:173","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"}},"id":119487,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1068:14:173","memberName":"getNamespaceId","nodeType":"MemberAccess","referencedDeclaration":24754,"src":"1059:23:173","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ResourceId_$3365_$returns$_t_userDefinedValueType$_ResourceId_$3365_$attached_to$_t_userDefinedValueType$_ResourceId_$3365_$","typeString":"function (ResourceId) pure returns (ResourceId)"}},"id":119488,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1059:25:173","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"}},{"id":119489,"name":"PUPPET_DELEGATION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119394,"src":"1086:17:173","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"}},{"arguments":[{"hexValue":"30","id":119492,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1115:1:173","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":119491,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"1105:9:173","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_bytes_memory_ptr_$","typeString":"function (uint256) pure returns (bytes memory)"},"typeName":{"id":119490,"name":"bytes","nodeType":"ElementaryTypeName","src":"1109:5:173","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},"id":119493,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1105:12:173","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"},{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":119483,"name":"world","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119455,"src":"1025:5:173","typeDescriptions":{"typeIdentifier":"t_contract$_IBaseWorld_$24957","typeString":"contract IBaseWorld"}},"id":119485,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1031:27:173","memberName":"registerNamespaceDelegation","nodeType":"MemberAccess","referencedDeclaration":25091,"src":"1025:33:173","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_userDefinedValueType$_ResourceId_$3365_$_t_userDefinedValueType$_ResourceId_$3365_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (ResourceId,ResourceId,bytes memory) external"}},"id":119494,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1025:93:173","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":119495,"nodeType":"ExpressionStatement","src":"1025:93:173"}]},"documentation":{"id":119452,"nodeType":"StructuredDocumentation","src":"591:207:173","text":" This free function can be used to create a puppet and register it with the puppet delegation control.\n Since it is inlined in the caller's context, the calls originate from the caller's address."},"implemented":true,"kind":"freeFunction","modifiers":[],"name":"createPuppet","nameLocation":"808:12:173","parameters":{"id":119459,"nodeType":"ParameterList","parameters":[{"constant":false,"id":119455,"mutability":"mutable","name":"world","nameLocation":"832:5:173","nodeType":"VariableDeclaration","scope":119497,"src":"821:16:173","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IBaseWorld_$24957","typeString":"contract IBaseWorld"},"typeName":{"id":119454,"nodeType":"UserDefinedTypeName","pathNode":{"id":119453,"name":"IBaseWorld","nameLocations":["821:10:173"],"nodeType":"IdentifierPath","referencedDeclaration":24957,"src":"821:10:173"},"referencedDeclaration":24957,"src":"821:10:173","typeDescriptions":{"typeIdentifier":"t_contract$_IBaseWorld_$24957","typeString":"contract IBaseWorld"}},"visibility":"internal"},{"constant":false,"id":119458,"mutability":"mutable","name":"systemId","nameLocation":"850:8:173","nodeType":"VariableDeclaration","scope":119497,"src":"839:19:173","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"},"typeName":{"id":119457,"nodeType":"UserDefinedTypeName","pathNode":{"id":119456,"name":"ResourceId","nameLocations":["839:10:173"],"nodeType":"IdentifierPath","referencedDeclaration":3365,"src":"839:10:173"},"referencedDeclaration":3365,"src":"839:10:173","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$3365","typeString":"ResourceId"}},"visibility":"internal"}],"src":"820:39:173"},"returnParameters":{"id":119462,"nodeType":"ParameterList","parameters":[{"constant":false,"id":119461,"mutability":"mutable","name":"puppet","nameLocation":"877:6:173","nodeType":"VariableDeclaration","scope":119497,"src":"869:14:173","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":119460,"name":"address","nodeType":"ElementaryTypeName","src":"869:7:173","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"868:16:173"},"scope":119498,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"license":"MIT"},"id":173}